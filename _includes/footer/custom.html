<script>
  document.addEventListener("DOMContentLoaded", function() {
    var images = [
      "{{ '/assets/images/backgrounds/bg1.png' | relative_url }}",
      "{{ '/assets/images/backgrounds/bg2.png' | relative_url }}",
      "{{ '/assets/images/backgrounds/bg3.png' | relative_url }}",
      "{{ '/assets/images/backgrounds/bg4.png' | relative_url }}"
    ];
    var chosen = images[Math.floor(Math.random() * images.length)];
    document.body.style.backgroundImage = "url('" + chosen + "')";
  });
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  var path = window.location.pathname;

  // enlÃ¨ve le / final sauf pour la racine
  if (path.length > 1 && path.endsWith("/")) {
    path = path.slice(0, -1);
  }

  var links = document.querySelectorAll(".greedy-nav .masthead__menu-item a");

  links.forEach(function (link) {
    var href = link.getAttribute("href");
    if (!href) return;

    // ignore les liens externes
    if (href.indexOf("http://") === 0 || href.indexOf("https://") === 0) return;

    // normalise aussi le href
    var normalized = href;
    if (normalized.length > 1 && normalized.endsWith("/")) {
      normalized = normalized.slice(0, -1);
    }

    if (normalized === path) {
      link.classList.add("nav-current");
    }
  });
});
</script>